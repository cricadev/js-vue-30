"use strict";const w=window,de=document.documentElement,knownColorSchemes=["dark","light"],preference=window.localStorage.getItem("<%= options.storageKey %>")||"<%= options.preference %>";let value=preference==="system"?getColorScheme():preference;const forcedColorMode=de.getAttribute("data-color-mode-forced");forcedColorMode&&(value=forcedColorMode),addColorScheme(value),w["<%= options.globalName %>"]={preference,value,getColorScheme,addColorScheme,removeColorScheme};function addColorScheme(e){const o="<%= options.classPrefix %>"+e+"<%= options.classSuffix %>",t="<%= options.dataValue %>";de.classList?de.classList.add(o):de.className+=" "+o,t&&de.setAttribute("data-"+t,e)}function removeColorScheme(e){const o="<%= options.classPrefix %>"+e+"<%= options.classSuffix %>",t="<%= options.dataValue %>";de.classList?de.classList.remove(o):de.className=de.className.replace(new RegExp(o,"g"),""),t&&de.removeAttribute("data-"+t)}function prefersColorScheme(e){return w.matchMedia("(prefers-color-scheme"+e+")")}function getColorScheme(){if(w.matchMedia&&prefersColorScheme("").media!=="not all"){for(const e of knownColorSchemes)if(prefersColorScheme(":"+e).matches)return e}return"<%= options.fallback %>"}
